# =============================================================================
# Gaia Predictive â€” Environment Configuration Template
# =============================================================================
# INSTRUCTIONS:
#   1. Copy this file to .env: cp .env.example .env
#   2. Fill in all required values (marked with REQUIRED)
#   3. Never commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Gaia Predictive
APP_VERSION=1.0.0
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=false              # NEVER enable in production

# -----------------------------------------------------------------------------
# Multi-tenancy (row-level)
# -----------------------------------------------------------------------------
TENANT_ID=your-tenant-id-here    # Set uniquely per customer deployment
DEFAULT_TENANT_ID=default

# -----------------------------------------------------------------------------
# Database Settings (TimescaleDB)
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=gaia_predictive
DB_USER=gaia
DB_PASSWORD=                    # REQUIRED: Set your database password
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
DB_SSL_MODE=require             # Options: disable, require, verify-ca, verify-full

# -----------------------------------------------------------------------------
# Redis Settings
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=                 # Optional for development, required for production
REDIS_DB=0
REDIS_SSL=false
REDIS_SOCKET_TIMEOUT=5.0
REDIS_MAX_CONNECTIONS=50

# -----------------------------------------------------------------------------
# MQTT Broker (Eclipse Mosquitto)
# -----------------------------------------------------------------------------
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_WS_PORT=9001
MQTT_CLIENT_ID=pdm-pilot
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_PUBLISH_ENABLED=true
MQTT_QOS=1
MQTT_TLS_ENABLED=false

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# REQUIRED: Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECURITY_JWT_SECRET=
SECURITY_JWT_ALGORITHM=HS256    # Options: HS256, HS384, HS512, RS256
SECURITY_JWT_EXPIRY_MINUTES=30
SECURITY_JWT_REFRESH_EXPIRY_DAYS=7
SECURITY_API_KEY_HEADER=X-API-Key
SECURITY_CORS_ORIGINS=http://localhost:3000,http://localhost:5173
SECURITY_RATE_LIMIT_PER_MINUTE=100

# -----------------------------------------------------------------------------
# NASA Data Ingestion (Pipeline Bootstrap)
# -----------------------------------------------------------------------------
# Path to archive.zip OR archive folder. Default: ~/Desktop/archive.zip
# NASA_ARCHIVE_PATH=/path/to/archive.zip
# NASA_ARCHIVE_PATH=/path/to/archive

# -----------------------------------------------------------------------------
# Virtual / physical hardware (for verify_connections.py and adapters)
# -----------------------------------------------------------------------------
# ABB RobotStudio virtual controller IP (or real robot). Used for ABB RWS / health check.
ROBOT_IP=127.0.0.1
# ABB RWS HTTP port (default 80 for Robot Web Services).
ROBOT_PORT=80

# PLCSIM Advanced virtual PLC IP (or real S7-1500). Used by siemens_s7_adapter and verify_connections.
SIEMENS_PLC_IP=127.0.0.1
# S7 rack and slot (0/1 typical for S7-1500 virtual).
SIEMENS_PLC_RACK=0
SIEMENS_PLC_SLOT=1
# Data block number to read (e.g. DB1 for motor_current, cycle_timer_ms).
SIEMENS_DB_NUMBER=1

# -----------------------------------------------------------------------------
# Prefect Orchestration
# -----------------------------------------------------------------------------
# Prefect API URL (workers and stream_consumer use this to trigger flows).
# In Docker: http://prefect-server:4200/api  |  Local: http://localhost:4200/api
PREFECT_API_URL=http://prefect-server:4200/api
# Optional: GAIA API base URL for flows that call shadow-report, profile/run (e.g. http://api:8000 or http://localhost:8000)
# API_BASE_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Model Paths (relative to project root; overridable for Docker)
# -----------------------------------------------------------------------------
GAIA_MODEL_PATH=models/gaia_model.pkl
RUL_MODEL_PATH=models/rul_model.pkl
SCALER_PATH=models/scaler.pkl

# -----------------------------------------------------------------------------
# Logging Settings
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO                  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json                 # Options: json (production), text (development)
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_CORRELATION_ID=true
LOG_OUTPUT=stdout               # Options: stdout, file, both
LOG_FILE_PATH=/var/log/gaia/app.log
LOG_MAX_FILE_SIZE_MB=100
LOG_BACKUP_COUNT=5
